<button mat-icon-button [matMenuTriggerFor]="menu">
    <mat-icon>more_vert</mat-icon>
</button>
<mat-menu #menu="matMenu">
    <ng-container *ngFor="let item of config">
        <ng-container *ngIf="item.subMenu && item.subMenu.length > 0; else menuBlock">
            <button [value]="item.value" (click)="onClick(item)" mat-menu-item [matMenuTriggerFor]="sub_menu">
                <i class="{{ item.iconClass }}">{{ item.iconLabel }}</i>
                {{ item.label }}
            </button>
        </ng-container>
        <ng-template #menuBlock>
            <button [value]="item.value" (click)="onClick(item)" mat-menu-item>
                <i class="{{ item.iconClass }}">{{ item.iconLabel }}</i>
                {{ item.label }}
            </button>
        </ng-template>
    </ng-container>
</mat-menu>
  